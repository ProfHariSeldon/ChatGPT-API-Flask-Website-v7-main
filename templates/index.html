<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TL ChatGPT 4 and Dynamic Graphs</title>
    <meta name="description" content="Demonstration of ChatGPT 4 and Dynamic Python graphs Integrated into a webpage">
    <meta name="keywords" content="Thomas H. Lipscomb, Thomas Lipscomb, End to End webpage, Transcriptomics, ChatGPT, Dynamic Graphs, 2024"> 
    <title>Demonstration of ChatGPT 4 and Dynamic Python graphs Integrated into a webpage</title>
</head>
<body>
    <h1>Demonstration of ChatGPT 4 and Python graphs Integrated into a webpage</h1><br>
    <h2><b>1. Demonstration of ChatGPT 4 Integrated into a webpage</b></h2>
    <p>This demonstration executes about 22 lines of HTML code I wrote and 20 lines of Python code (6 lines written by me and 14 lines from GitHub)<br>
    <!-- https://stackoverflow.com/questions/5392882/why-is-chrome-showing-a-please-fill-out-this-field-tooltip-on-empty-fields -->
    <form method="post">
        <label for="prompt">1A. Type any question to ChatGPT 4:</label>
        <p>Example: What is the Transcriptome?</p>
        <p>Example: What is the Genome?</p>
        <!-- https://www.w3schools.com/tags/att_input_required.asp -->
        1B. Click the submit button and wait about 15 seconds. <input type="text" id="prompt" name="prompt">
        <button type="submit">Submit</button><br>
    </form>
    <br>
    <br>
    <h2><b>2. Demonstration of Python dynamic graphing Integrated into a webpage</b></h2>
    <p>This demonstration executes about 64 lines of HTML code written by me and one line of HTML code from GitHub for the submit buton, and 55 lines of Python code partially generated by ChatGTP AI (25 lines written by me 30 lines from ChatGPT)</p>
    <form method="post">
        <p>To dynamically generate a graph of its transcriptome features frequency extracted from a raw list of start and end positions:</p>
        <fieldset>
            <legend>2A. Select which chromosome to graph:</legend>
            <input type="radio" id="chr1" name="graph" value="chr1">
            <label for="chr1">Chromosome 1</label><br>
            <input type="radio" id="chr2" name="graph" value="chr2">
            <label for="chr2">Chromosome 2</label><br>
            <input type="radio" id="chr3" name="graph" value="chr3">
            <label for="chr3">Chromosome 3</label><br>
            <input type="radio" id="chr4" name="graph" value="chr4">
            <label for="chr4">Chromosome 4</label><br>
            <input type="radio" id="chr5" name="graph" value="chr5">
            <label for="chr5">Chromosome 5</label><br>
            <input type="radio" id="chr6" name="graph" value="chr6">
            <label for="chr6">Chromosome 6</label><br>
            <input type="radio" id="chr7" name="graph" value="chr7">
            <label for="chr7">Chromosome 7</label><br>
            <input type="radio" id="chr8" name="graph" value="chr8">
            <label for="chr8">Chromosome 8</label><br>
            <input type="radio" id="chr9" name="graph" value="chr9">
            <label for="chr9">Chromosome 9</label><br>
            <input type="radio" id="chr10" name="graph" value="chr10">
            <label for="chr10">Chromosome 10</label><br>
            <input type="radio" id="chr11" name="graph" value="chr11">
            <label for="chr11">Chromosome 11</label><br>
            <input type="radio" id="chr12" name="graph" value="chr12">
            <label for="chr12">Chromosome 12</label><br>
            <input type="radio" id="chr13" name="graph" value="chr13">
            <label for="chr13">Chromosome 13</label><br>
            <input type="radio" id="chr14" name="graph" value="chr14">
            <label for="chr14">Chromosome 14</label><br>
            <input type="radio" id="chr15" name="graph" value="chr15">
            <label for="chr15">Chromosome 15</label><br>
            <input type="radio" id="chr16" name="graph" value="chr16">
            <label for="chr16">Chromosome 16</label><br>
            <input type="radio" id="chr17" name="graph" value="chr17">
            <label for="chr17">Chromosome 17</label><br>
            <input type="radio" id="chr18" name="graph" value="chr18">
            <label for="chr18">Chromosome 18</label><br>
            <input type="radio" id="chr19" name="graph" value="chr19">
            <label for="chr19">Chromosome 19</label><br>
            <input type="radio" id="chr20" name="graph" value="chr20">
            <label for="chr20">Chromosome 20</label><br>
            <input type="radio" id="chr21" name="graph" value="chr21">
            <label for="chr21">Chromosome 21</label><br>
            <input type="radio" id="chr22" name="graph" value="chr22">
            <label for="chr22">Chromosome 22</label><br>
            <input type="radio" id="chrX" name="graph" value="chrX">
            <label for="chrX">Chromosome X</label><br>
            <input type="radio" id="chrY" name="graph" value="chrY">
            <label for="chrY">Chromosome Y</label><br>
            <input type="radio" id="chrMT" name="graph" value="chrMT">
            <label for="chrMT">Mitochondrial Chromosome.  This graph is empty, because the Mitochondrial Chromosome is so simple.</label>
        </fieldset>
        
        2B. Click the submit button and wait about 15 seconds. <button type="submit">Submit</button><br>
    </form>
    
    {% if response %}
        <h2>Response to ChatGPT 4 Question:</h2>
        <p>{{ response }}</p>
    {% endif %}
    
    {% if graph %}
        <h2>Selected Graph:</h2>
        <img src="{{ url_for('static', filename=graph) }}" alt="Selected Graph">
    {% endif %}
    
    <h2>Details of how I wrote the webpage:</h2>
    
    <p>1. To chat with ChatGPT 4 I copied python code from GitHub and modified it and added my own HTML code.  Details follow:</p>
    
    <ul>1A. There are 14 lines copied from GitHub <a href="https://github.com/redemptionwxy/ChatGPT-API-Flask-Website">https://github.com/redemptionwxy/ChatGPT-API-Flask-Website</a> to create the ChatGPT 4 text box one can ask any question of then push the submit button.  I copied and improved two lines to run the app and host it on port 5000 no longer port 80.</ul>
    
    <ul>1B. In index.html, my 22 lines of HTML code creates the Submit button</ul>
    
    <p>2. To dynamically generate the graphs, I queried ChatGPT and it gave me most of the python code without the import modules.  I added code to import the necessary library modules.   I consolidated the ChatGPT dynamic graphing code to fewer lines.  And I wrote HTML code for the radio buttons.  Details follow:</p>
    
    <ul>2A.I created ./static/chromosmoes.py to generate the graphs in 716 lines I modified from ChatGPT.  I looked up how to add radio buttons to select which graph you want to dynamically generate and implemented that.  I consolidated the ChatGPT graph generating code to be much shorter (18 lines in main.py of which graph was chosen from the radio button) and put it in main.py and no longer use ./static/chromosmoes.py 716 lines.  I copied and improved one line to return render_template('index.html', prompt=prompt, response=response, graph=graph) which is to send the variables prompt, response, and graph to index.html, to make the webpage dynamic, that I got from ChatGPT but added graph=graph.</ul>
    
    <ul>2B. In index.html, 56 lines are my radio buttons I wrote after looking up how to make radio buttons from documentation and 8 lines with the if and endif I wrote after looking up how to do ifs in HTML.  1 line is the submit button from GitHub <a href="https://github.com/redemptionwxy/ChatGPT-API-Flask-Website">https://github.com/redemptionwxy/ChatGPT-API-Flask-Website</a></ul>
    
    <p>3. One feature I tried to program for this webpage did not work out and I omitted it from the webpage.  I was unable to get ChatGPT to answer questions about my graphs using my Transcriptome Classifier CustomGPT, because it had parameters to answer pregenerated questions in the terminal (while building the webpage) but no parameters to answer questions outside of the terminal in GET and POST in the text box that I used to ask ChatGPT 4 for help but could not replace that with my Transcriptome Classifier CustomGPT.</p>
    
    <ul>3A. I figured out how to add the ChatGPT 4 api_key and ChatGPT Transcriptome Classifier Custom GPT assistantId. There are 30 lines I copied from the ChatGPT documentation <a href="https://platform.openai.com/docs/assistants/overview?context=with-streaming">https://platform.openai.com/docs/assistants/overview?context=with-streaming</a> to ask questions in the terminal.  The terminal question, while building the webpage, is set here: content = "How many circRNAs are in hsa_hg38_circRNA.bed?".  The answer the terminal gives is 183718 circRNAs and is correct.  However, the terminal documentation <a href="https://platform.openai.com/docs/assistants/overview?context=with-streaming">https://platform.openai.com/docs/assistants/overview?context=with-streaming</a> does not explain how to ask that terminal question in a webpage, because thread = client.beta.threads.create() and message = client.beta.threads.messages.create() both seem to not have the parameters to be in a webpage only in terminal parameters.  I asked for help from the ChatGPT help desk and they said they needed help from a collegue and they would get back to me.  That is all of the code before @app.route('/', methods=['GET', 'POST']) in main.py.</ul>

    <p>Code for this webpage is on my GitHub: <a href="https://github.com/ProfHariSeldon/ChatGPT-API-Flask-Website-v7-main">https://github.com/ProfHariSeldon/ChatGPT-API-Flask-Website-v7-main</a></p>

    <p>Thomas H. Lipscomb</p>
</body>
</html>
